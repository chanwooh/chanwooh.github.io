{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar react_1 = require(\"react\");\nvar TimerModel_1 = require(\"../lib/models/TimerModel\");\nvar getTimeParts_1 = __importDefault(require(\"../lib/helpers/getTimeParts\"));\nfunction useTimer(_a) {\n  var _b = _a === void 0 ? {} : _a,\n    _c = _b.initialTime,\n    initialTime = _c === void 0 ? 0 : _c,\n    _d = _b.direction,\n    direction = _d === void 0 ? \"forward\" : _d,\n    _e = _b.timeToUpdate,\n    timeToUpdate = _e === void 0 ? 1000 : _e,\n    _f = _b.startImmediately,\n    startImmediately = _f === void 0 ? true : _f,\n    _g = _b.lastUnit,\n    lastUnit = _g === void 0 ? \"d\" : _g,\n    _h = _b.checkpoints,\n    checkpoints = _h === void 0 ? [] : _h,\n    onStart = _b.onStart,\n    onResume = _b.onResume,\n    onPause = _b.onPause,\n    onStop = _b.onStop,\n    onReset = _b.onReset;\n  var _j = react_1.useState(__assign({}, getTimeParts_1.default(initialTime < 0 ? 0 : initialTime, lastUnit), {\n      state: 'INITED'\n    })),\n    timerValues = _j[0],\n    setTimerValues = _j[1];\n  var timer = react_1.useMemo(function () {\n    return new TimerModel_1.TimerModel({\n      initialTime: initialTime,\n      direction: direction,\n      timeToUpdate: timeToUpdate,\n      lastUnit: lastUnit,\n      checkpoints: checkpoints,\n      onChange: function onChange(timerValue) {\n        return setTimerValues(function (state) {\n          return __assign({}, state, timerValue);\n        });\n      }\n    });\n  }, []);\n  var setTime = react_1.useCallback(function (time) {\n    return timer.setTime(time);\n  }, [timer]);\n  var getTime = react_1.useCallback(function () {\n    return timer.getTime();\n  }, [timer]);\n  var getTimerState = react_1.useCallback(function () {\n    return timer.state;\n  }, [timer]);\n  var setDirection = react_1.useCallback(function (direction) {\n    return timer.setDirection(direction);\n  }, [timer]);\n  var setLastUnit = react_1.useCallback(function (lastUnit) {\n    return timer.setLastUnit(lastUnit);\n  }, [timer]);\n  var setCheckpoints = react_1.useCallback(function (checkpoints) {\n    return timer.setCheckpoints(checkpoints);\n  }, [timer]);\n  var setTimeToUpdate = react_1.useCallback(function (interval) {\n    return timer.setTimeToUpdate(interval);\n  }, [timer]);\n  var start = react_1.useCallback(function () {\n    timer.start();\n    onStart && onStart();\n  }, [timer, onStart]);\n  var stop = react_1.useCallback(function () {\n    timer.stop();\n    onStop && onStop();\n  }, [timer, onStop]);\n  var pause = react_1.useCallback(function () {\n    timer.pause();\n    onPause && onPause();\n  }, [timer, onPause]);\n  var reset = react_1.useCallback(function () {\n    timer.reset();\n    onReset && onReset();\n  }, [timer, onReset]);\n  var resume = react_1.useCallback(function () {\n    timer.resume();\n    onResume && onResume();\n  }, [timer, onResume]);\n  var controls = react_1.useMemo(function () {\n    return {\n      start: start,\n      stop: stop,\n      pause: pause,\n      reset: reset,\n      resume: resume,\n      setTime: setTime,\n      getTime: getTime,\n      getTimerState: getTimerState,\n      setDirection: setDirection,\n      setLastUnit: setLastUnit,\n      setTimeToUpdate: setTimeToUpdate,\n      setCheckpoints: setCheckpoints\n    };\n  }, [start, stop, pause, reset, resume, setTime, getTime, getTimerState, setDirection, setLastUnit, setTimeToUpdate, setCheckpoints]);\n  react_1.useEffect(function () {\n    if (startImmediately) {\n      start();\n    }\n    return function () {\n      stop();\n    };\n  }, []);\n  return {\n    controls: controls,\n    value: timerValues\n  };\n}\nexports.useTimer = useTimer;","map":{"version":3,"names":["react_1","require","TimerModel_1","getTimeParts_1","__importDefault","useTimer","_a","_b","_c","initialTime","_d","direction","_e","timeToUpdate","_f","startImmediately","_g","lastUnit","_h","checkpoints","onStart","onResume","onPause","onStop","onReset","_j","useState","__assign","default","state","timerValues","setTimerValues","timer","useMemo","TimerModel","onChange","timerValue","setTime","useCallback","time","getTime","getTimerState","setDirection","setLastUnit","setCheckpoints","setTimeToUpdate","interval","start","stop","pause","reset","resume","controls","useEffect","value","exports"],"sources":["/Users/charliehwang/Desktop/chanwooh.github.io/2020/node_modules/react-compound-timer/src/hook/useTimer.ts"],"sourcesContent":["import { useState, useMemo, useCallback, useEffect } from \"react\";\nimport {\n  Unit,\n  Checkpoints,\n  TimeParts,\n  Direction,\n  TimerValue,\n} from '../types';\nimport { TimerModel } from '../lib/models/TimerModel';\nimport getTimeParts from \"../lib/helpers/getTimeParts\";\n\ninterface TimerOptions {\n  initialTime: number;\n  direction: \"forward\" | \"backward\";\n  timeToUpdate: number;\n  startImmediately: boolean;\n  lastUnit: Unit;\n  checkpoints: Checkpoints;\n  formatValue: (value: number) => string;\n  onStart: () => void;\n  onResume: () => void;\n  onPause: () => void;\n  onStop: () => void;\n  onReset: () => void;\n}\n\nexport function useTimer({\n  initialTime = 0,\n  direction = \"forward\",\n  timeToUpdate = 1000,\n  startImmediately = true,\n  lastUnit = \"d\",\n  checkpoints = [],\n  onStart,\n  onResume,\n  onPause,\n  onStop,\n  onReset,\n}: Partial<TimerOptions> = {}) {\n  const [timerValues, setTimerValues] = useState<TimerValue>({\n    ...getTimeParts(initialTime < 0 ? 0 : initialTime, lastUnit),\n    state: 'INITED',\n  });\n\n  const timer = useMemo(\n    () =>\n      new TimerModel({\n        initialTime,\n        direction,\n        timeToUpdate,\n        lastUnit,\n        checkpoints,\n        onChange: (timerValue: TimerValue) =>\n          setTimerValues(state => ({ ...state, ...timerValue })),\n      }),\n    [],\n  );\n\n  const setTime = useCallback((time: number) => timer.setTime(time), [timer]);\n  const getTime = useCallback(() => timer.getTime(), [timer]);\n\n  const getTimerState = useCallback(() => timer.state, [timer]);\n\n  const setDirection = useCallback(\n    (direction: Direction) => timer.setDirection(direction),\n    [timer],\n  );\n\n  const setLastUnit = useCallback(\n    (lastUnit: Unit) => timer.setLastUnit(lastUnit),\n    [timer],\n  );\n\n  const setCheckpoints = useCallback(\n    (checkpoints: Checkpoints) => timer.setCheckpoints(checkpoints),\n    [timer],\n  );\n\n  const setTimeToUpdate = useCallback((interval: number) => timer.setTimeToUpdate(interval), [timer]);\n\n  const start = useCallback(() => { timer.start(); onStart && onStart(); }, [timer, onStart]);\n  const stop = useCallback(() => { timer.stop(); onStop && onStop(); }, [timer, onStop]);\n  const pause = useCallback(() => { timer.pause(); onPause && onPause(); }, [timer, onPause]);\n  const reset = useCallback(() => { timer.reset(); onReset && onReset(); }, [timer, onReset]);\n  const resume = useCallback(() => { timer.resume(); onResume && onResume(); }, [timer, onResume]);\n\n  const controls = useMemo(\n    () => ({\n      start,\n      stop,\n      pause,\n      reset,\n      resume,\n      setTime,\n      getTime,\n      getTimerState,\n      setDirection,\n      setLastUnit,\n      setTimeToUpdate,\n      setCheckpoints,\n    }),\n    [\n      start, stop, pause, reset, resume,\n      setTime, getTime, getTimerState, setDirection, setLastUnit, setTimeToUpdate, setCheckpoints,\n    ],\n  );\n\n  useEffect(\n    () => {\n      if (startImmediately) {\n        start();\n      }\n\n      return () => {\n        stop();\n      };\n    },\n    [],\n  );\n\n  return {\n    controls,\n    value: timerValues,\n  };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}